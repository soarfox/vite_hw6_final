import{_ as v,e as P,r as l,o as r,c,a as t,F as u,f,g as w,b as p,t as _,w as $,d as C,h as y}from"./index-c0c3596b.js";const{VITE_API:d,VITE_APIPATH:n}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"cheetah116",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{products:[]}},methods:{getPastaAll(){this.$http.get(`${d}/api/${n}/products/all`).then(e=>{this.products=e.data.products}).catch(e=>{console.log(e)})},getPastaCategoryProducts(e){this.$http.get(`${d}/api/${n}/products/?category=${e}`).then(s=>{this.products=s.data.products}).catch(s=>{console.log(s)})},addToCart(e){const s={product_id:e,qty:1};this.$http.post(`${d}/api/${n}/cart`,{data:s}).then(i=>{alert("已加入購物車")}).catch(i=>{alert(i.response.data.message)})}},components:{RouterLink:P},mounted(){this.getPastaAll()}},V={key:0,class:"row"},A={class:"col-2"},T={class:"list-group text-center fw-bold"},b={class:"col-10"},x={class:"row row-cols-1 row-cols-md-3 my-4 g-4"},E={class:"card h-100"},I=["src"],L={class:"card-body"},N={class:"card-title fw-bold"},R={class:"float-end"},B={class:"card-footer bg-white"},D=["onClick"];function F(e,s,i,H,h,a){const g=l("RouterLink"),m=l("router-view");return r(),c(u,null,[this.$route.params.id?w("",!0):(r(),c("div",V,[t("div",A,[t("div",T,[t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[0]||(s[0]=o=>a.getPastaAll("全部商品"))},"全部商品"),t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[1]||(s[1]=o=>a.getPastaCategoryProducts("青醬義大利麵"))},"青醬義大利麵"),t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[2]||(s[2]=o=>a.getPastaCategoryProducts("蕃茄義大利麵"))},"蕃茄義大利麵"),t("a",{href:"#/products",class:"list-group-item list-group-item-action",onClick:s[3]||(s[3]=o=>a.getPastaCategoryProducts("奶油義大利麵"))},"奶油義大利麵")])]),t("div",b,[t("div",x,[(r(!0),c(u,null,f(h.products,o=>(r(),c("div",{class:"col",key:o.id},[t("div",E,[t("img",{src:o.imageUrl,class:"card-img-top",alt:""},null,8,I),t("div",L,[t("h5",N,_(o.title),1),t("span",R,"NT$ "+_(o.price),1)]),t("div",B,[p(g,{to:`/singleProduct/${o.id}`,class:"btn btn-outline-secondary w-50"},{default:$(()=>[C(" 查看更多 ")]),_:2},1032,["to"]),t("a",{href:"#",class:"btn btn-outline-danger w-50",onClick:y(M=>a.addToCart(o.id),["prevent"])},"加入購物車",8,D)])])]))),128))])])])),p(m)],64)}const S=v(k,[["render",F]]);export{S as default};
